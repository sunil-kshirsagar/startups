{"version":3,"sources":["../../../src/modules/user/userMiddleware.js"],"names":["UserMiddleware","MainPageValidationSchema","Joi","object","keys","entityId","string","required","entityType","ValidateMainPage","req","res","next","validate","query","err","value","logger","error","JSON","stringify","status","send","Error","details","message"],"mappings":";;;;;;AAAA;;;;;;;;IAEMA,c;;;;;SAEFC,wB,GAA2BC,cAAIC,MAAJ,GAAaC,IAAb,CAAkB;AACzCC,kBAAUH,cAAII,MAAJ,GAAaC,QAAb,EAD+B;AAEzCC,oBAAYN,cAAII,MAAJ,GAAaC,QAAb;AAF6B,KAAlB,C;;SAK3BE,gB,GAAmB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnCV,sBAAIW,QAAJ,CAAaH,IAAII,KAAjB,EAAwB,MAAKb,wBAA7B,EAAuD,UAACc,GAAD,EAAMC,KAAN,EAAgB;AACnE,gBAAID,GAAJ,EAAS;AACLE,uBAAOC,KAAP,CAAa,sCAAsCC,KAAKC,SAAL,CAAeV,IAAII,KAAnB,CAAtC,GAAkE,WAAlE,GAAgFK,KAAKC,SAAL,CAAeL,GAAf,CAA7F;AACA,uBAAOJ,IAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,2BAAOR,IAAIS,OAAJ,CAAY,CAAZ,EAAeC;AADE,iBAArB,CAAP;AAGH;;AAEDb;AACH,SATD;AAUH,K;;;kBAGU,IAAIZ,cAAJ,E","file":"userMiddleware.js","sourcesContent":["import Joi from 'joi';\n\nclass UserMiddleware {\n\n    MainPageValidationSchema = Joi.object().keys({\n        entityId: Joi.string().required(),\n        entityType: Joi.string().required()\n    });\n\n    ValidateMainPage = (req, res, next) => {\n        Joi.validate(req.query, this.MainPageValidationSchema, (err, value) => {\n            if (err) {\n                logger.error('MainPageValidationSchema request ' + JSON.stringify(req.query) + ' - error ' + JSON.stringify(err));\n                return res.status(400).send({\n                    Error: err.details[0].message\n                });\n            }\n\n            next();\n        });\n    };\n}\n\nexport default new UserMiddleware();\n\n"]}